{% extends "partials/base.html" %}
{% load static %}
{% block content %}
        <main class="main">
            <nav class="breadcrumb-nav">
                <div class="container">
                    <ul class="breadcrumb">
                        <li><a href="/"><i class="d-icon-home"></i> Home</a></li>
                        <li>Contact Us</li>
                    </ul>
                </div>
            </nav>
            <div class="page-header" style="background-image: url({% static "images/shop/47615.jpg" %})">
                <h1 class="page-title font-weight-bold text-capitalize ls-l">Contact Us</h1>
            </div>
            <div class="page-content mt-10 pt-7">
                <section class="contact-section">
                    <div class="container">
                        <div class="row">
                            <div class="col-lg-3 col-md-4 col-sm-6 ls-m mb-4">
                                <div class="grey-section d-flex align-items-center h-100" style="border-radius: 1.3rem;">
                                    <div style="padding-left: 10px;">
                                        <h4 class="mb-2 text-capitalize">Location</h4>
                                        <p>
                                            <a href="tel:+2348025067397">Ever Precious Hair, 3rd Plaza, After Akpu Junction, Shop B4 Viven Plaza,<br> Okpanam Rd, Asaba 320242, Delta</a><br>
                                           
                                        </p>
                                        <h4 class="mb-2 text-capitalize">Phone Number</h4>
                                        <p>
                                            <a href="tel:+2348025067397">+2348025067397</a><br>
                                           
                                        </p>
                                        <h4 class="mb-2 text-capitalize">Support</h4>
                                        <p class="mb-4">
                                            <a href="mail:everprecioushairz@yahoo.com"><span class="__cf_email__"
                                                    >everprecioushairz@yahoo.com</span></a><br>
                                   
                                        
                                        </p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-9 col-md-8 col-sm-6 d-flex align-items-center mb-4">
                                <div class="w-100">
                                    <form class="pl-lg-2" id="contactForm" method="post">
                                        {% csrf_token %}
                                        <h4 class="ls-m font-weight-bold">Contact Us</h4>
                                        <p>Your email address will not be published. Required fields are
                                            marked *</p>
                                            <div class="notification" id="notification">
                                   
                                                Your message has been received <picture>
                                                 <source srcset="https://fonts.gstatic.com/s/e/notoemoji/latest/1f389/512.webp" type="image/webp">
                                                 <img src="https://fonts.gstatic.com/s/e/notoemoji/latest/1f389/512.gif" alt="ðŸŽ‰" width="22" height="22">
                                               </picture>
                                            </div>
                                        <div class="row mb-2">
                                            
                                            <div class="col-md-12 mb-4">
                                                <input class="form-control" style="border-radius: 1.3rem;" type="text" name="full_name" placeholder="Name *" required>
                                            </div>
                                            <div class="col-md-6 mb-4">
                                                <input class="form-control" style="border-radius: 1.3rem;" type="email" name="email" placeholder="Email *" required>
                                            </div>
                                            <div class="col-md-6 mb-4">
                                                <input class="form-control" style="border-radius: 1.3rem;" type="phone" name="contact" placeholder="Phone *" required>
                                            </div>
                                            <div class="col-12 mb-4">
                                                <textarea class="form-control" style="border-radius: 1.3rem;" name="message" required
                                                    placeholder="Message*"></textarea>
                                            </div>
                                        </div>
                                        <button class="btn btn-dark btn-rounded" type="submit" id="contactSubmit" style="border-radius: 3.75rem;">Submit<i
                                                class="d-icon-arrow-right"></i></button>
                                    </form>
                                  
                                    
                                </div> 
                            </div>
                        </div>
                    </div>
                </section>

                <section class="store-section mt-6 pt-10 pb-8">
                    <div class="container">
                        <h2 class="title title-center mb-7 text-normal">Our store</h2>
                        <div class="row cols-sm-2 cols-lg-4">
                            <div class="store">
                                <figure class="banner-radius">
                                    <img src="{% static 'images/subpages/store-1.jpg' %}" alt="store" width="280" height="280">
                                    <h4 class="overlay-visible">New York</h4>
                                    <div class="overlay overlay-transparent">
                                        <a href="tel:#">Phone: (123) 456-7890</a>
                                    </div>
                                </figure>
                            </div>
                            <div class="store">
                                <figure class="banner-radius">
                                    <img src="{% static 'images/subpages/store-2.jpg' %}" alt="store" width="280" height="280">
                                    <h4 class="overlay-visible">London</h4>
                                    <div class="overlay overlay-transparent">
                                        
                                        <a href="tel:#">Phone: (123) 456-7890</a>
                                       
                                    </div>
                                </figure>
                            </div>
                            <div class="store">
                                <figure class="banner-radius">
                                    <img src="{% static 'images/subpages/store-3.jpg' %}" alt="store" width="280" height="280">
                                    <h4 class="overlay-visible">Oslo</h4>
                                    <div class="overlay overlay-transparent">
                                        
                                        <a href="tel:#">Phone: (123) 456-7890</a>
                                     
                                    </div>
                                </figure>
                            </div>
                            <div class="store">
                                <figure class="banner-radius">
                                    <img src="{% static 'images/subpages/store-4.jpg' %}" alt="store" width="280" height="280">
                                    <h4 class="overlay-visible">Stockholm</h4>
                                    <div class="overlay overlay-transparent">
                                        
                                        <a href="tel:#">Phone: (123) 456-7890</a>
                                      
                                    </div>
                                </figure>
                            </div>
                        </div>
                    </div>
                </section>


                <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3966.290332522838!2d6.673170374148095!3d6.225397893762691!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x1043f3438472f7dd%3A0xab10ef70d66ae1e3!2sEver%20Precious%20Hair!5e0!3m2!1sen!2sng!4v1726861249426!5m2!1sen!2sng" style="width: 100%;" width="1000" height="380" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>

            </div>
        </main>
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
        <script>
            $(document).ready(function() {
                $('#contactForm').on('submit', function(event) {
                    event.preventDefault();
                    
                    // Disable the submit button and show spinner
                    $('#contactSubmit').prop('disabled', true).html('Sending <span class="spinner-border spinner-border-sm" style="margin-left: 3px;" role="status" aria-hidden="true"></span> ');
                    
                    $.ajax({
                        type: 'POST',
                        url: '/submit-contact/',  // Replace with the correct URL for your view
                        data: $(this).serialize(),
                        
                        success: function(response) {
                            if (response.status === 'success') {
                                // Optionally, clear the form or display a success message
                                showNotification();
                                $('form.pl-lg-2')[0].reset();
                            } else {
                                alert(response.message || 'An error occurred. Please try again.');
                                
                            }
                        },
                        error: function(xhr, errmsg, err) {
                            alert('An error occurred while submitting the form.');
                           
                        },
                        complete: function() {
                            // Re-enable the submit button and change the text back to "Send"
                            $('#contactSubmit').prop('disabled', false).html('Send');
                        }
                    });
                });
                
                function showNotification() {
                    var notification = document.getElementById("notification");
                    notification.style.display = "block";
                    
                    setTimeout(function() {
                        notification.style.display = "none";
                    }, 5000); 
                }
            
            });
        </script>
        <style>
            .notification {
                display: none;
                top: 30%;
                position: fixed;
                left: 50%;
                transform: translateX(-50%);
                padding: 10px;
                font-size: 14px;
                background-color: #fefefe;
                border: 2px solid #f5eaf7;
                border-radius: 5px;
                z-index: 1000;
                animation: slideDown 0.5s ease-in-out;
                box-shadow: rgba(0, 0, 0, 0.3) 0px 19px 38px, rgba(0, 0, 0, 0.22) 0px 15px 12px;
              }
              
              @keyframes slideDown {
                0% {
                  transform: translate(-50%, -100%);
                }
                100% {
                  transform: translate(-50%, 0);
                }
              }
            
        </style>
{% endblock content %}